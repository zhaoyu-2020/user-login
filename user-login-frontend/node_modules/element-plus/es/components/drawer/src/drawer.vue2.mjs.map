{"version":3,"file":"drawer.vue2.mjs","sources":["../../../../../../packages/components/drawer/src/drawer.vue"],"sourcesContent":["<template>\n  <el-teleport\n    :to=\"appendTo\"\n    :disabled=\"appendTo !== 'body' ? false : !appendToBody\"\n  >\n    <transition\n      :name=\"ns.b('fade')\"\n      @after-enter=\"afterEnter\"\n      @after-leave=\"afterLeave\"\n      @before-leave=\"beforeLeave\"\n    >\n      <el-overlay\n        v-show=\"visible\"\n        :mask=\"modal\"\n        :overlay-class=\"[\n          ns.is('drawer'),\n          modalClass ?? '',\n          `${ns.namespace.value}-modal-drawer`,\n          ns.is('penetrable', penetrable),\n        ]\"\n        :z-index=\"zIndex\"\n        @click=\"onModalClick\"\n      >\n        <el-focus-trap\n          loop\n          :trapped=\"visible\"\n          :focus-trap-el=\"drawerRef\"\n          :focus-start-el=\"focusStartRef\"\n          @focus-after-trapped=\"onOpenAutoFocus\"\n          @focus-after-released=\"onCloseAutoFocus\"\n          @focusout-prevented=\"onFocusoutPrevented\"\n          @release-requested=\"onCloseRequested\"\n        >\n          <div\n            ref=\"drawerRef\"\n            aria-modal=\"true\"\n            :aria-label=\"title || undefined\"\n            :aria-labelledby=\"!title ? titleId : undefined\"\n            :aria-describedby=\"bodyId\"\n            v-bind=\"$attrs\"\n            :class=\"[\n              ns.b(),\n              direction,\n              visible && 'open',\n              ns.is('dragging', isResizing),\n            ]\"\n            :style=\"{ [isHorizontal ? 'width' : 'height']: size }\"\n            role=\"dialog\"\n            @click.stop\n          >\n            <span ref=\"focusStartRef\" :class=\"ns.e('sr-focus')\" tabindex=\"-1\" />\n            <header v-if=\"withHeader\" :class=\"[ns.e('header'), headerClass]\">\n              <template v-if=\"!$slots.title\">\n                <slot\n                  name=\"header\"\n                  :close=\"handleClose\"\n                  :title-id=\"titleId\"\n                  :title-class=\"ns.e('title')\"\n                >\n                  <span\n                    :id=\"titleId\"\n                    role=\"heading\"\n                    :aria-level=\"headerAriaLevel\"\n                    :class=\"ns.e('title')\"\n                  >\n                    {{ title }}\n                  </span>\n                </slot>\n              </template>\n              <template v-else>\n                <slot name=\"title\">\n                  <!-- DEPRECATED SLOT -->\n                </slot>\n              </template>\n              <button\n                v-if=\"showClose\"\n                :aria-label=\"t('el.drawer.close')\"\n                :class=\"ns.e('close-btn')\"\n                type=\"button\"\n                @click=\"handleClose\"\n              >\n                <el-icon :class=\"ns.e('close')\">\n                  <close />\n                </el-icon>\n              </button>\n            </header>\n            <template v-if=\"rendered\">\n              <div :id=\"bodyId\" :class=\"[ns.e('body'), bodyClass]\">\n                <slot />\n              </div>\n            </template>\n            <div v-if=\"$slots.footer\" :class=\"[ns.e('footer'), footerClass]\">\n              <slot name=\"footer\" />\n            </div>\n            <div\n              v-if=\"resizable\"\n              ref=\"draggerRef\"\n              :style=\"{ zIndex }\"\n              :class=\"ns.e('dragger')\"\n            />\n          </div>\n        </el-focus-trap>\n      </el-overlay>\n    </transition>\n  </el-teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, useSlots } from 'vue'\nimport { Close } from '@element-plus/icons-vue'\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport ElTeleport from '@element-plus/components/teleport'\nimport { dialogPropsDefaults, useDialog } from '@element-plus/components/dialog'\nimport ElIcon from '@element-plus/components/icon'\nimport { useDeprecated, useLocale, useNamespace } from '@element-plus/hooks'\nimport { drawerEmits } from './drawer'\nimport { useResizable } from './composables/useResizable'\n\nimport type { DrawerProps } from './drawer'\n\ndefineOptions({\n  name: 'ElDrawer',\n  inheritAttrs: false,\n})\n\nconst props = withDefaults(defineProps<DrawerProps>(), {\n  ...dialogPropsDefaults,\n  direction: 'rtl',\n  size: '30%',\n  withHeader: true,\n  modalFade: true,\n  headerAriaLevel: '2',\n})\nconst emit = defineEmits(drawerEmits)\nconst slots = useSlots()\n\nuseDeprecated(\n  {\n    scope: 'el-drawer',\n    from: 'the title slot',\n    replacement: 'the header slot',\n    version: '3.0.0',\n    ref: 'https://element-plus.org/en-US/component/drawer.html#slots',\n  },\n  computed(() => !!slots.title)\n)\n\nconst drawerRef = ref<HTMLElement>()\nconst focusStartRef = ref<HTMLElement>()\nconst draggerRef = ref<HTMLElement>()\nconst ns = useNamespace('drawer')\nconst { t } = useLocale()\n\nconst {\n  afterEnter,\n  afterLeave,\n  beforeLeave,\n  visible,\n  rendered,\n  titleId,\n  bodyId,\n  zIndex,\n  onModalClick,\n  onOpenAutoFocus,\n  onCloseAutoFocus,\n  onFocusoutPrevented,\n  onCloseRequested,\n  handleClose,\n} = useDialog(props, drawerRef)\n\nconst { isHorizontal, size, isResizing } = useResizable(props, draggerRef, emit)\n\nconst penetrable = computed(() => props.modalPenetrable && !props.modal)\n\ndefineExpose({\n  handleClose,\n  afterEnter,\n  afterLeave,\n})\n</script>\n"],"names":["_createBlock","_unref","_createVNode","_Transition","_createElementVNode","_mergeProps","$attrs","_normalizeClass","_createElementBlock","$slots","_renderSlot","_createCommentVNode"],"mappings":"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"}