{"version":3,"file":"panel-time-range.vue2.mjs","sources":["../../../../../../../packages/components/time-picker/src/time-picker-com/panel-time-range.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"actualVisible\"\n    :class=\"[nsTime.b('range-picker'), nsPicker.b('panel')]\"\n  >\n    <div :class=\"nsTime.be('range-picker', 'content')\">\n      <div :class=\"nsTime.be('range-picker', 'cell')\">\n        <div :class=\"nsTime.be('range-picker', 'header')\">\n          {{ t('el.datepicker.startTime') }}\n        </div>\n        <div :class=\"startContainerKls\">\n          <time-spinner\n            ref=\"minSpinner\"\n            role=\"start\"\n            :show-seconds=\"showSeconds\"\n            :am-pm-mode=\"amPmMode\"\n            :arrow-control=\"arrowControl\"\n            :spinner-date=\"startTime\"\n            :disabled-hours=\"disabledHours_\"\n            :disabled-minutes=\"disabledMinutes_\"\n            :disabled-seconds=\"disabledSeconds_\"\n            @change=\"handleMinChange\"\n            @set-option=\"onSetOption\"\n            @select-range=\"setMinSelectionRange\"\n          />\n        </div>\n      </div>\n      <div :class=\"nsTime.be('range-picker', 'cell')\">\n        <div :class=\"nsTime.be('range-picker', 'header')\">\n          {{ t('el.datepicker.endTime') }}\n        </div>\n        <div :class=\"endContainerKls\">\n          <time-spinner\n            ref=\"maxSpinner\"\n            role=\"end\"\n            :show-seconds=\"showSeconds\"\n            :am-pm-mode=\"amPmMode\"\n            :arrow-control=\"arrowControl\"\n            :spinner-date=\"endTime\"\n            :disabled-hours=\"disabledHours_\"\n            :disabled-minutes=\"disabledMinutes_\"\n            :disabled-seconds=\"disabledSeconds_\"\n            @change=\"handleMaxChange\"\n            @set-option=\"onSetOption\"\n            @select-range=\"setMaxSelectionRange\"\n          />\n        </div>\n      </div>\n    </div>\n    <div :class=\"nsTime.be('panel', 'footer')\">\n      <button\n        type=\"button\"\n        :class=\"[nsTime.be('panel', 'btn'), 'cancel']\"\n        @click=\"handleCancel()\"\n      >\n        {{ t('el.datepicker.cancel') }}\n      </button>\n      <button\n        type=\"button\"\n        :class=\"[nsTime.be('panel', 'btn'), 'confirm']\"\n        :disabled=\"btnConfirmDisabled\"\n        @click=\"handleConfirm()\"\n      >\n        {{ t('el.datepicker.confirm') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, nextTick, ref, unref } from 'vue'\nimport dayjs from 'dayjs'\nimport { union } from 'lodash-unified'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { getEventCode, isArray } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport { PICKER_BASE_INJECTION_KEY } from '../constants'\nimport { panelTimeRangeProps } from '../props/panel-time-range'\nimport { useTimePanel } from '../composables/use-time-panel'\nimport {\n  buildAvailableTimeSlotGetter,\n  useOldValue,\n} from '../composables/use-time-picker'\nimport TimeSpinner from './basic-time-spinner.vue'\n\nimport type { Dayjs } from 'dayjs'\n\nconst props = defineProps(panelTimeRangeProps)\nconst emit = defineEmits(['pick', 'select-range', 'set-picker-option'])\n\nconst makeSelectRange = (start: number, end: number) => {\n  const result: number[] = []\n  for (let i = start; i <= end; i++) {\n    result.push(i)\n  }\n  return result\n}\n\nconst { t, lang } = useLocale()\nconst nsTime = useNamespace('time')\nconst nsPicker = useNamespace('picker')\nconst pickerBase = inject(PICKER_BASE_INJECTION_KEY) as any\nconst {\n  arrowControl,\n  disabledHours,\n  disabledMinutes,\n  disabledSeconds,\n  defaultValue,\n} = pickerBase.props\n\nconst startContainerKls = computed(() => [\n  nsTime.be('range-picker', 'body'),\n  nsTime.be('panel', 'content'),\n  nsTime.is('arrow', arrowControl),\n  showSeconds.value ? 'has-seconds' : '',\n])\nconst endContainerKls = computed(() => [\n  nsTime.be('range-picker', 'body'),\n  nsTime.be('panel', 'content'),\n  nsTime.is('arrow', arrowControl),\n  showSeconds.value ? 'has-seconds' : '',\n])\n\nconst startTime = computed(() => props.parsedValue![0])\nconst endTime = computed(() => props.parsedValue![1])\nconst oldValue = useOldValue(props)\nconst handleCancel = () => {\n  const old = oldValue.value\n  emit('pick', old, false)\n  nextTick(() => {\n    oldValue.value = old\n  })\n}\nconst showSeconds = computed(() => {\n  return props.format.includes('ss')\n})\nconst amPmMode = computed(() => {\n  if (props.format.includes('A')) return 'A'\n  if (props.format.includes('a')) return 'a'\n  return ''\n})\n\nconst handleConfirm = (visible = false) => {\n  emit('pick', [startTime.value, endTime.value], visible)\n}\n\nconst handleMinChange = (date: Dayjs) => {\n  handleChange(date.millisecond(0), endTime.value)\n}\nconst handleMaxChange = (date: Dayjs) => {\n  handleChange(startTime.value, date.millisecond(0))\n}\n\nconst isValidValue = (_date: Dayjs[]) => {\n  const parsedDate = _date.map((_) => dayjs(_).locale(lang.value))\n  const result = getRangeAvailableTime(parsedDate)\n  return parsedDate[0].isSame(result[0]) && parsedDate[1].isSame(result[1])\n}\n\nconst handleChange = (start: Dayjs, end: Dayjs) => {\n  if (!props.visible) {\n    return\n  }\n  // todo getRangeAvailableTime(_date).millisecond(0)\n  emit('pick', [start, end], true)\n}\nconst btnConfirmDisabled = computed(() => {\n  return startTime.value > endTime.value\n})\n\nconst selectionRange = ref([0, 2])\nconst setMinSelectionRange = (start: number, end: number) => {\n  emit('select-range', start, end, 'min')\n  selectionRange.value = [start, end]\n}\n\nconst offset = computed(() => (showSeconds.value ? 11 : 8))\nconst setMaxSelectionRange = (start: number, end: number) => {\n  emit('select-range', start, end, 'max')\n  const _offset = unref(offset)\n  selectionRange.value = [start + _offset, end + _offset]\n}\n\nconst changeSelectionRange = (step: number) => {\n  const list = showSeconds.value ? [0, 3, 6, 11, 14, 17] : [0, 3, 8, 11]\n  const mapping = ['hours', 'minutes'].concat(\n    showSeconds.value ? ['seconds'] : []\n  )\n  const index = list.indexOf(selectionRange.value[0])\n  const next = (index + step + list.length) % list.length\n  const half = list.length / 2\n  if (next < half) {\n    timePickerOptions['start_emitSelectRange'](mapping[next])\n  } else {\n    timePickerOptions['end_emitSelectRange'](mapping[next - half])\n  }\n}\n\nconst handleKeydown = (event: KeyboardEvent) => {\n  const code = getEventCode(event)\n\n  const { left, right, up, down } = EVENT_CODE\n\n  if ([left, right].includes(code)) {\n    const step = code === left ? -1 : 1\n    changeSelectionRange(step)\n    event.preventDefault()\n    return\n  }\n\n  if ([up, down].includes(code)) {\n    const step = code === up ? -1 : 1\n    const role = selectionRange.value[0] < offset.value ? 'start' : 'end'\n    timePickerOptions[`${role}_scrollDown`](step)\n    event.preventDefault()\n    return\n  }\n}\n\nconst disabledHours_ = (role: string, compare?: Dayjs) => {\n  const defaultDisable = disabledHours ? disabledHours(role) : []\n  const isStart = role === 'start'\n  const compareDate = compare || (isStart ? endTime.value : startTime.value)\n  const compareHour = compareDate.hour()\n  const nextDisable = isStart\n    ? makeSelectRange(compareHour + 1, 23)\n    : makeSelectRange(0, compareHour - 1)\n  return union(defaultDisable, nextDisable)\n}\nconst disabledMinutes_ = (hour: number, role: string, compare?: Dayjs) => {\n  const defaultDisable = disabledMinutes ? disabledMinutes(hour, role) : []\n  const isStart = role === 'start'\n  const compareDate = compare || (isStart ? endTime.value : startTime.value)\n  const compareHour = compareDate.hour()\n  if (hour !== compareHour) {\n    return defaultDisable\n  }\n  const compareMinute = compareDate.minute()\n  const nextDisable = isStart\n    ? makeSelectRange(compareMinute + 1, 59)\n    : makeSelectRange(0, compareMinute - 1)\n  return union(defaultDisable, nextDisable)\n}\nconst disabledSeconds_ = (\n  hour: number,\n  minute: number,\n  role: string,\n  compare?: Dayjs\n) => {\n  const defaultDisable = disabledSeconds\n    ? disabledSeconds(hour, minute, role)\n    : []\n  const isStart = role === 'start'\n  const compareDate = compare || (isStart ? endTime.value : startTime.value)\n  const compareHour = compareDate.hour()\n  const compareMinute = compareDate.minute()\n  if (hour !== compareHour || minute !== compareMinute) {\n    return defaultDisable\n  }\n  const compareSecond = compareDate.second()\n  const nextDisable = isStart\n    ? makeSelectRange(compareSecond + 1, 59)\n    : makeSelectRange(0, compareSecond - 1)\n  return union(defaultDisable, nextDisable)\n}\n\nconst getRangeAvailableTime = ([start, end]: Array<Dayjs>) => {\n  return [\n    getAvailableTime(start, 'start', true, end),\n    getAvailableTime(end, 'end', false, start),\n  ] as const\n}\n\nconst { getAvailableHours, getAvailableMinutes, getAvailableSeconds } =\n  buildAvailableTimeSlotGetter(\n    disabledHours_,\n    disabledMinutes_,\n    disabledSeconds_\n  )\n\nconst {\n  timePickerOptions,\n\n  getAvailableTime,\n  onSetOption,\n} = useTimePanel({\n  getAvailableHours,\n  getAvailableMinutes,\n  getAvailableSeconds,\n})\n\nconst parseUserInput = (days: Dayjs[] | Dayjs) => {\n  if (!days) return null\n  if (isArray(days)) {\n    return days.map((d) => dayjs(d, props.format).locale(lang.value))\n  }\n  return dayjs(days, props.format).locale(lang.value)\n}\n\nconst getDefaultValue = () => {\n  if (isArray(defaultValue)) {\n    return defaultValue.map((d: Date) => dayjs(d).locale(lang.value))\n  }\n  const defaultDay = dayjs(defaultValue).locale(lang.value)\n  return [defaultDay, defaultDay.add(60, 'm')]\n}\n\nemit('set-picker-option', ['parseUserInput', parseUserInput])\nemit('set-picker-option', ['isValidValue', isValidValue])\nemit('set-picker-option', ['handleKeydownInput', handleKeydown])\nemit('set-picker-option', ['getDefaultValue', getDefaultValue])\nemit('set-picker-option', ['getRangeAvailableTime', getRangeAvailableTime])\n</script>\n"],"names":["actualVisible","_createElementBlock","_unref","_createElementVNode","_normalizeClass","_createVNode","TimeSpinner"],"mappings":"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"}