{"version":3,"file":"use-form-common-props.mjs","sources":["../../../../../../../packages/components/form/src/hooks/use-form-common-props.ts"],"sourcesContent":["import { computed, inject, ref, unref } from 'vue'\nimport { useGlobalSize } from '@element-plus/hooks/use-size'\nimport { useProp } from '@element-plus/hooks/use-prop'\nimport { formContextKey, formItemContextKey } from '../constants'\n\nimport type { ComponentSize } from '@element-plus/constants'\nimport type { MaybeRef } from '@vueuse/core'\n\nexport const useFormSize = (\n  fallback?: MaybeRef<ComponentSize | undefined>,\n  ignore: Partial<Record<'prop' | 'form' | 'formItem' | 'global', boolean>> = {}\n) => {\n  const emptyRef = ref(undefined)\n\n  const size = ignore.prop ? emptyRef : useProp<ComponentSize>('size')\n  const globalConfig = ignore.global ? emptyRef : useGlobalSize()\n  const form = ignore.form\n    ? { size: undefined }\n    : inject(formContextKey, undefined)\n  const formItem = ignore.formItem\n    ? { size: undefined }\n    : inject(formItemContextKey, undefined)\n\n  return computed(\n    (): ComponentSize =>\n      size.value ||\n      unref(fallback) ||\n      formItem?.size ||\n      form?.size ||\n      globalConfig.value ||\n      ''\n  )\n}\n\nexport const useFormDisabled = (fallback?: MaybeRef<boolean | undefined>) => {\n  const disabled = useProp<boolean>('disabled')\n  const form = inject(formContextKey, undefined)\n\n  return computed(() => {\n    return disabled.value ?? unref(fallback) ?? form?.disabled ?? false\n  })\n}\n\n// These exports are used for preventing breaking changes\nexport const useSize = useFormSize\nexport const useDisabled = useFormDisabled\n"],"names":[],"mappings":";;;;;AAQO,MAAM,WAAA,GAAc,CACzB,QAAA,EACA,MAAA,GAA4E,EAAC,KAC1E;AACH,EAAA,MAAM,QAAA,GAAW,IAAI,MAAS,CAAA;AAE9B,EAAA,MAAM,IAAA,GAAO,MAAA,CAAO,IAAA,GAAO,QAAA,GAAW,QAAuB,MAAM,CAAA;AACnE,EAAA,MAAM,YAAA,GAAe,MAAA,CAAO,MAAA,GAAS,QAAA,GAAW,aAAA,EAAc;AAC9D,EAAA,MAAM,IAAA,GAAO,OAAO,IAAA,GAChB,EAAE,MAAM,MAAA,EAAU,GAClB,MAAA,CAAO,cAAA,EAAgB,MAAS,CAAA;AACpC,EAAA,MAAM,QAAA,GAAW,OAAO,QAAA,GACpB,EAAE,MAAM,MAAA,EAAU,GAClB,MAAA,CAAO,kBAAA,EAAoB,MAAS,CAAA;AAExC,EAAA,OAAO,QAAA;AAAA,IACL,MACE,IAAA,CAAK,KAAA,IACL,KAAA,CAAM,QAAQ,CAAA,KACd,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAU,IAAA,CAAA,KACV,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,IAAA,CAAA,IACN,YAAA,CAAa,KAAA,IACb;AAAA,GACJ;AACF;AAEO,MAAM,eAAA,GAAkB,CAAC,QAAA,KAA6C;AAC3E,EAAA,MAAM,QAAA,GAAW,QAAiB,UAAU,CAAA;AAC5C,EAAA,MAAM,IAAA,GAAO,MAAA,CAAO,cAAA,EAAgB,MAAS,CAAA;AAE7C,EAAA,OAAO,SAAS,MAAM;AAtCxB,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AAuCI,IAAA,OAAA,CAAO,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,UAAT,IAAA,GAAA,EAAA,GAAkB,KAAA,CAAM,QAAQ,CAAA,KAAhC,IAAA,GAAA,EAAA,GAAqC,IAAA,IAAA,IAAA,GAAA,MAAA,GAAA,IAAA,CAAM,QAAA,KAA3C,IAAA,GAAA,EAAA,GAAuD,KAAA;AAAA,EAChE,CAAC,CAAA;AACH;AAGO,MAAM,OAAA,GAAU;AAChB,MAAM,WAAA,GAAc;;;;"}