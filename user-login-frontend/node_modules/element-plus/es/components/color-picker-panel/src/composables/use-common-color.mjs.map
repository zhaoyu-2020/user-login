{"version":3,"file":"use-common-color.mjs","sources":["../../../../../../../packages/components/color-picker-panel/src/composables/use-common-color.ts"],"sourcesContent":["import { reactive, watch } from 'vue'\nimport Color from '../utils/color'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\n\ntype CommonColorProps = {\n  modelValue?: string | null\n  showAlpha: boolean\n  colorFormat?: string\n}\ntype CommonColorEmits = (event: 'update:modelValue', ...args: any[]) => void\n\nexport const useCommonColor = <\n  P extends CommonColorProps,\n  E extends CommonColorEmits,\n>(\n  props: P,\n  emit: E\n) => {\n  const color = reactive(\n    new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat || '',\n      value: props.modelValue,\n    })\n  ) as Color\n\n  watch(\n    () => [props.colorFormat, props.showAlpha],\n    () => {\n      color.enableAlpha = props.showAlpha\n      color.format = props.colorFormat || color.format\n      color.doOnChange()\n      emit(UPDATE_MODEL_EVENT, color.value)\n    }\n  )\n\n  return {\n    color,\n  }\n}\n"],"names":[],"mappings":";;;;AAWO,MAAM,cAAA,GAAiB,CAI5B,KAAA,EACA,IAAA,KACG;AACH,EAAA,MAAM,KAAA,GAAQ,QAAA;AAAA,IACZ,IAAI,KAAA,CAAM;AAAA,MACR,aAAa,KAAA,CAAM,SAAA;AAAA,MACnB,MAAA,EAAQ,MAAM,WAAA,IAAe,EAAA;AAAA,MAC7B,OAAO,KAAA,CAAM;AAAA,KACd;AAAA,GACH;AAEA,EAAA,KAAA;AAAA,IACE,MAAM,CAAC,KAAA,CAAM,WAAA,EAAa,MAAM,SAAS,CAAA;AAAA,IACzC,MAAM;AACJ,MAAA,KAAA,CAAM,cAAc,KAAA,CAAM,SAAA;AAC1B,MAAA,KAAA,CAAM,MAAA,GAAS,KAAA,CAAM,WAAA,IAAe,KAAA,CAAM,MAAA;AAC1C,MAAA,KAAA,CAAM,UAAA,EAAW;AACjB,MAAA,IAAA,CAAK,kBAAA,EAAoB,MAAM,KAAK,CAAA;AAAA,IACtC;AAAA,GACF;AAEA,EAAA,OAAO;AAAA,IACL;AAAA,GACF;AACF;;;;"}