{"version":3,"file":"content.vue2.mjs","sources":["../../../../../../packages/components/tour/src/content.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"contentRef\"\n    :style=\"contentStyle\"\n    :class=\"ns.e('content')\"\n    :data-side=\"side\"\n    tabindex=\"-1\"\n  >\n    <el-focus-trap\n      loop\n      trapped\n      focus-start-el=\"container\"\n      :focus-trap-el=\"contentRef || undefined\"\n      @release-requested=\"onCloseRequested\"\n      @focusout-prevented=\"onFocusoutPrevented\"\n    >\n      <slot />\n    </el-focus-trap>\n    <span\n      v-if=\"showArrow\"\n      ref=\"arrowRef\"\n      :style=\"arrowStyle\"\n      :class=\"ns.e('arrow')\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, ref, toRef, watch } from 'vue'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport { tourContentEmits } from './content'\nimport { tourKey, useFloating } from './helper'\n\nimport type { TourContentProps } from './content'\n\ndefineOptions({\n  name: 'ElTourContent',\n})\n\nconst props = withDefaults(defineProps<TourContentProps>(), {\n  placement: 'bottom',\n  reference: null,\n  strategy: 'absolute',\n  offset: 10,\n  zIndex: 2001,\n})\nconst emit = defineEmits(tourContentEmits)\n\nconst placement = ref(props.placement)\nconst strategy = ref(props.strategy)\nconst contentRef = ref<HTMLElement | null>(null)\nconst arrowRef = ref<HTMLElement | null>(null)\n\nwatch(\n  () => props.placement,\n  () => {\n    placement.value = props.placement\n  }\n)\n\nconst { contentStyle, arrowStyle } = useFloating(\n  toRef(props, 'reference'),\n  contentRef,\n  arrowRef,\n  placement,\n  strategy,\n  toRef(props, 'offset'),\n  toRef(props, 'zIndex'),\n  toRef(props, 'showArrow')\n)\n\nconst side = computed(() => {\n  return placement.value.split('-')[0]\n})\n\nconst { ns } = inject(tourKey)!\n\nconst onCloseRequested = () => {\n  emit('close')\n}\n\nconst onFocusoutPrevented = (event: CustomEvent) => {\n  if (event.detail.focusReason === 'pointer') {\n    event.preventDefault()\n  }\n}\n</script>\n"],"names":["_createElementBlock","_unref","_normalizeClass","_createVNode","_renderSlot"],"mappings":";;;;;;;;;;;;;;AAuCA,IAAA,MAAM,KAAA,GAAQ,OAAA;AAOd,IAAA,MAAM,IAAA,GAAO,MAAA;AAEb,IAAA,MAAM,SAAA,GAAY,GAAA,CAAI,KAAA,CAAM,SAAS,CAAA;AACrC,IAAA,MAAM,QAAA,GAAW,GAAA,CAAI,KAAA,CAAM,QAAQ,CAAA;AACnC,IAAA,MAAM,UAAA,GAAa,IAAwB,IAAI,CAAA;AAC/C,IAAA,MAAM,QAAA,GAAW,IAAwB,IAAI,CAAA;AAE7C,IAAA,KAAA;AAAA,MACE,MAAM,KAAA,CAAM,SAAA;AAAA,MACZ,MAAM;AACJ,QAAA,SAAA,CAAU,QAAQ,KAAA,CAAM,SAAA;AAAA,MAC1B;AAAA,KACF;AAEA,IAAA,MAAM,EAAE,YAAA,EAAc,UAAA,EAAW,GAAI,WAAA;AAAA,MACnC,KAAA,CAAM,OAAO,WAAW,CAAA;AAAA,MACxB,UAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,KAAA,CAAM,OAAO,QAAQ,CAAA;AAAA,MACrB,KAAA,CAAM,OAAO,QAAQ,CAAA;AAAA,MACrB,KAAA,CAAM,OAAO,WAAW;AAAA,KAC1B;AAEA,IAAA,MAAM,IAAA,GAAO,SAAS,MAAM;AAC1B,MAAA,OAAO,SAAA,CAAU,KAAA,CAAM,KAAA,CAAM,GAAG,EAAE,CAAC,CAAA;AAAA,IACrC,CAAC,CAAA;AAED,IAAA,MAAM,EAAE,EAAA,EAAG,GAAI,MAAA,CAAO,OAAO,CAAA;AAE7B,IAAA,MAAM,mBAAmB,MAAM;AAC7B,MAAA,IAAA,CAAK,OAAO,CAAA;AAAA,IACd,CAAA;AAEA,IAAA,MAAM,mBAAA,GAAsB,CAAC,KAAA,KAAuB;AAClD,MAAA,IAAI,KAAA,CAAM,MAAA,CAAO,WAAA,KAAgB,SAAA,EAAW;AAC1C,QAAA,KAAA,CAAM,cAAA,EAAe;AAAA,MACvB;AAAA,IACF,CAAA;;0BApFEA,kBAAA,CAuBM,KAAA,EAAA;AAAA,iBAtBA,YAAA;AAAA,QAAJ,GAAA,EAAI,UAAA;AAAA,QACH,KAAA,iBAAOC,KAAA,CAAA,YAAA,CAAY,CAAA;AAAA,QACnB,OAAKC,cAAA,CAAED,KAAA,CAAA,EAAA,CAAA,CAAG,CAAA,CAAC,SAAA,CAAA,CAAA;AAAA,QACX,aAAW,IAAA,CAAA,KAAA;AAAA,QACZ,QAAA,EAAS;AAAA;QAETE,WAAA,CASgBF,KAAA,CAAA,WAAA,CAAA,EAAA;AAAA,UARd,IAAA,EAAA,EAAA;AAAA,UACA,OAAA,EAAA,EAAA;AAAA,UACA,gBAAA,EAAe,WAAA;AAAA,UACd,eAAA,EAAe,WAAA,KAAA,IAAc,MAAA;AAAA,UAC7B,kBAAA,EAAmB,gBAAA;AAAA,UACnB;AAAA;2BAED,MAAQ;AAAA,YAARG,UAAA,CAAQ,IAAA,CAAA,MAAA,EAAA,SAAA;AAAA;;;;QAGF,OAAA,CAAA,SAAA,iBADRJ,kBAAA;AAAA,UAKE,MAAA;AAAA,UAAA;AAAA;qBAHI,UAAA;AAAA,YAAJ,GAAA,EAAI,QAAA;AAAA,YACH,KAAA,iBAAOC,KAAA,CAAA,UAAA,CAAU,CAAA;AAAA,YACjB,OAAKC,cAAA,CAAED,KAAA,CAAA,EAAA,CAAA,CAAG,CAAA,CAAC,OAAA,CAAA;AAAA;;;;;;;;;;;;"}