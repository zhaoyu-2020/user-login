{"version":3,"file":"pagination.mjs","sources":["../../../../../../packages/components/pagination/src/pagination.ts"],"sourcesContent":["import {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  provide,\n  ref,\n  watch,\n} from 'vue'\nimport { ArrowLeft, ArrowRight } from '@element-plus/icons-vue'\nimport {\n  buildProps,\n  debugWarn,\n  definePropType,\n  iconPropType,\n  isNumber,\n  mutable,\n} from '@element-plus/utils'\nimport {\n  useDeprecated,\n  useGlobalSize,\n  useLocale,\n  useNamespace,\n  useSizeProp,\n} from '@element-plus/hooks'\nimport { CHANGE_EVENT } from '@element-plus/constants'\nimport { elPaginationKey } from './constants'\nimport Prev from './components/prev.vue'\nimport Next from './components/next.vue'\nimport Sizes from './components/sizes.vue'\nimport Jumper from './components/jumper.vue'\nimport Total from './components/total.vue'\nimport Pager from './components/pager.vue'\n\nimport type {\n  CSSProperties,\n  ExtractPropTypes,\n  ExtractPublicPropTypes,\n  VNode,\n} from 'vue'\n/**\n * It it user's responsibility to guarantee that the value of props.total... is number\n * (same as pageSize, defaultPageSize, currentPage, defaultCurrentPage, pageCount)\n * Otherwise we can reasonable infer that the corresponding field is absent\n */\nconst isAbsent = (v: unknown): v is undefined => typeof v !== 'number'\n\ntype LayoutKey =\n  | 'prev'\n  | 'pager'\n  | 'next'\n  | 'jumper'\n  | '->'\n  | 'total'\n  | 'sizes'\n  | 'slot'\n\nexport const paginationProps = buildProps({\n  /**\n   * @description options of item count per page\n   */\n  pageSize: Number,\n  /**\n   * @description default initial value of page size, not setting is the same as setting 10\n   */\n  defaultPageSize: Number,\n  /**\n   * @description total item count\n   */\n  total: Number,\n  /**\n   * @description total page count. Set either `total` or `page-count` and pages will be displayed; if you need `page-sizes`, `total` is required\n   */\n  pageCount: Number,\n  /**\n   * @description number of pagers. Pagination collapses when the total page count exceeds this value\n   */\n  pagerCount: {\n    type: Number,\n    validator: (value: unknown) => {\n      return (\n        isNumber(value) &&\n        Math.trunc(value) === value &&\n        value > 4 &&\n        value < 22 &&\n        value % 2 === 1\n      )\n    },\n    default: 7,\n  },\n  /**\n   * @description current page number\n   */\n  currentPage: Number,\n  /**\n   * @description default initial value of current-page, not setting is the same as setting 1\n   */\n  defaultCurrentPage: Number,\n  /**\n   * @description layout of Pagination, elements separated with a comma\n   */\n  layout: {\n    type: String,\n    default: (\n      ['prev', 'pager', 'next', 'jumper', '->', 'total'] as LayoutKey[]\n    ).join(', '),\n  },\n  /**\n   * @description item count of each page\n   */\n  pageSizes: {\n    type: definePropType<number[]>(Array),\n    default: () => mutable([10, 20, 30, 40, 50, 100] as const),\n  },\n  /**\n   * @description custom class name for the page size Select's dropdown\n   */\n  popperClass: {\n    type: String,\n    default: '',\n  },\n  /**\n   * @description custom style for the page size Select's dropdown\n   */\n  popperStyle: {\n    type: definePropType<string | CSSProperties>([String, Object]),\n  },\n  /**\n   * @description text for the prev button\n   */\n  prevText: {\n    type: String,\n    default: '',\n  },\n  /**\n   * @description icon for the prev button, higher priority of `prev-text`\n   */\n  prevIcon: {\n    type: iconPropType,\n    default: () => ArrowLeft,\n  },\n  /**\n   * @description text for the next button\n   */\n  nextText: {\n    type: String,\n    default: '',\n  },\n  /**\n   * @description icon for the next button, higher priority of `next-text`\n   */\n  nextIcon: {\n    type: iconPropType,\n    default: () => ArrowRight,\n  },\n  /**\n   * @description whether Pagination size is teleported to body\n   */\n  teleported: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description whether to use small pagination\n   */\n  small: Boolean,\n  /**\n   * @description set page size\n   */\n  size: useSizeProp,\n  /**\n   * @description whether the buttons have a background color\n   */\n  background: Boolean,\n  /**\n   * @description whether Pagination is disabled\n   */\n  disabled: Boolean,\n  /**\n   * @description whether to hide when there's only one page\n   */\n  hideOnSinglePage: Boolean,\n  /**\n   * @description which element the size dropdown appends to.\n   */\n  appendSizeTo: String,\n} as const)\nexport type PaginationProps = ExtractPropTypes<typeof paginationProps>\nexport type PaginationPropsPublic = ExtractPublicPropTypes<\n  typeof paginationProps\n>\n\nexport const paginationEmits = {\n  'update:current-page': (val: number) => isNumber(val),\n  'update:page-size': (val: number) => isNumber(val),\n  'size-change': (val: number) => isNumber(val),\n  change: (currentPage: number, pageSize: number) =>\n    isNumber(currentPage) && isNumber(pageSize),\n  'current-change': (val: number) => isNumber(val),\n  'prev-click': (val: number) => isNumber(val),\n  'next-click': (val: number) => isNumber(val),\n}\nexport type PaginationEmits = typeof paginationEmits\n\nconst componentName = 'ElPagination'\nexport default defineComponent({\n  name: componentName,\n\n  props: paginationProps,\n  emits: paginationEmits,\n\n  setup(props, { emit, slots }) {\n    const { t } = useLocale()\n    const ns = useNamespace('pagination')\n    const vnodeProps = getCurrentInstance()!.vnode.props || {}\n    const _globalSize = useGlobalSize()\n    const _size = computed(() =>\n      props.small ? 'small' : (props.size ?? _globalSize.value)\n    )\n    useDeprecated(\n      {\n        from: 'small',\n        replacement: 'size',\n        version: '3.0.0',\n        scope: 'el-pagination',\n        ref: 'https://element-plus.org/zh-CN/component/pagination.html',\n      },\n      computed(() => !!props.small)\n    )\n    // we can find @xxx=\"xxx\" props on `vnodeProps` to check if user bind corresponding events\n    const hasCurrentPageListener =\n      'onUpdate:currentPage' in vnodeProps ||\n      'onUpdate:current-page' in vnodeProps ||\n      'onCurrentChange' in vnodeProps\n    const hasPageSizeListener =\n      'onUpdate:pageSize' in vnodeProps ||\n      'onUpdate:page-size' in vnodeProps ||\n      'onSizeChange' in vnodeProps\n    const assertValidUsage = computed(() => {\n      // Users have to set either one, otherwise count of pages cannot be determined\n      if (isAbsent(props.total) && isAbsent(props.pageCount)) return false\n      // <el-pagination ...otherProps :current-page=\"xxx\" /> without corresponding listener is forbidden now\n      // Users have to use two way binding of `currentPage`\n      // If users just want to provide a default value, `defaultCurrentPage` is here for you\n      if (!isAbsent(props.currentPage) && !hasCurrentPageListener) return false\n      // When you want to change sizes, things get more complex, detailed below\n      // Basically the most important value we need is page count\n      // either directly from props.pageCount\n      // or calculated from props.total\n      // we will take props.pageCount precedence over props.total\n      if (props.layout.includes('sizes')) {\n        if (!isAbsent(props.pageCount)) {\n          // if props.pageCount is assign by user, then user have to watch pageSize change\n          // and recalculate pageCount\n          if (!hasPageSizeListener) return false\n        } else if (!isAbsent(props.total)) {\n          // Otherwise, we will see if user have props.pageSize defined\n          // If so, meaning user want to have pageSize controlled himself/herself from component\n          // Thus page size listener is required\n          // users are account for page size change\n          if (!isAbsent(props.pageSize)) {\n            if (!hasPageSizeListener) {\n              return false\n            }\n          } else {\n            // (else block just for explaination)\n            // else page size is controlled by el-pagination internally\n          }\n        }\n      }\n      return true\n    })\n\n    const innerPageSize = ref(\n      isAbsent(props.defaultPageSize) ? 10 : props.defaultPageSize\n    )\n    const innerCurrentPage = ref(\n      isAbsent(props.defaultCurrentPage) ? 1 : props.defaultCurrentPage\n    )\n\n    const pageSizeBridge = computed({\n      get() {\n        return isAbsent(props.pageSize) ? innerPageSize.value : props.pageSize\n      },\n      set(v: number) {\n        if (isAbsent(props.pageSize)) {\n          innerPageSize.value = v\n        }\n        if (hasPageSizeListener) {\n          emit('update:page-size', v)\n          emit('size-change', v)\n        }\n      },\n    })\n\n    const pageCountBridge = computed<number>(() => {\n      let pageCount = 0\n      if (!isAbsent(props.pageCount)) {\n        pageCount = props.pageCount\n      } else if (!isAbsent(props.total)) {\n        pageCount = Math.max(1, Math.ceil(props.total / pageSizeBridge.value))\n      }\n      return pageCount\n    })\n\n    const currentPageBridge = computed<number>({\n      get() {\n        return isAbsent(props.currentPage)\n          ? innerCurrentPage.value\n          : props.currentPage\n      },\n      set(v) {\n        let newCurrentPage = v\n        if (v < 1) {\n          newCurrentPage = 1\n        } else if (v > pageCountBridge.value) {\n          newCurrentPage = pageCountBridge.value\n        }\n        if (isAbsent(props.currentPage)) {\n          innerCurrentPage.value = newCurrentPage\n        }\n        if (hasCurrentPageListener) {\n          emit('update:current-page', newCurrentPage)\n          emit('current-change', newCurrentPage)\n        }\n      },\n    })\n\n    watch(pageCountBridge, (val) => {\n      if (currentPageBridge.value > val) currentPageBridge.value = val\n    })\n\n    watch(\n      [currentPageBridge, pageSizeBridge],\n      (value) => {\n        emit(CHANGE_EVENT, ...value)\n      },\n      { flush: 'post' }\n    )\n\n    function handleCurrentChange(val: number) {\n      currentPageBridge.value = val\n    }\n\n    function handleSizeChange(val: number) {\n      pageSizeBridge.value = val\n      const newPageCount = pageCountBridge.value\n      if (currentPageBridge.value > newPageCount) {\n        currentPageBridge.value = newPageCount\n      }\n    }\n\n    function prev() {\n      if (props.disabled) return\n      currentPageBridge.value -= 1\n      emit('prev-click', currentPageBridge.value)\n    }\n\n    function next() {\n      if (props.disabled) return\n      currentPageBridge.value += 1\n      emit('next-click', currentPageBridge.value)\n    }\n\n    function addClass(element: any, cls: string) {\n      if (element) {\n        if (!element.props) {\n          element.props = {}\n        }\n        element.props.class = [element.props.class, cls].join(' ')\n      }\n    }\n\n    provide(elPaginationKey, {\n      pageCount: pageCountBridge,\n      disabled: computed(() => props.disabled),\n      currentPage: currentPageBridge,\n      changeEvent: handleCurrentChange,\n      handleSizeChange,\n    })\n\n    return () => {\n      if (!assertValidUsage.value) {\n        debugWarn(componentName, t('el.pagination.deprecationWarning'))\n        return null\n      }\n      if (!props.layout) return null\n      if (props.hideOnSinglePage && pageCountBridge.value <= 1) return null\n      const rootChildren: Array<VNode | VNode[] | null> = []\n      const rightWrapperChildren: Array<VNode | VNode[] | null> = []\n      const rightWrapperRoot = h(\n        'div',\n        { class: ns.e('rightwrapper') },\n        rightWrapperChildren\n      )\n      const TEMPLATE_MAP: Record<\n        Exclude<LayoutKey, '->'>,\n        VNode | VNode[] | null\n      > = {\n        prev: h(Prev, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          prevText: props.prevText,\n          prevIcon: props.prevIcon,\n          onClick: prev,\n        }),\n        jumper: h(Jumper, {\n          size: _size.value,\n        }),\n        pager: h(Pager, {\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          pagerCount: props.pagerCount,\n          onChange: handleCurrentChange,\n          disabled: props.disabled,\n        }),\n        next: h(Next, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          nextText: props.nextText,\n          nextIcon: props.nextIcon,\n          onClick: next,\n        }),\n        sizes: h(Sizes, {\n          pageSize: pageSizeBridge.value,\n          pageSizes: props.pageSizes,\n          popperClass: props.popperClass,\n          popperStyle: props.popperStyle,\n          disabled: props.disabled,\n          teleported: props.teleported,\n          size: _size.value,\n          appendSizeTo: props.appendSizeTo,\n        }),\n        slot: slots?.default?.() ?? null,\n        total: h(Total, { total: isAbsent(props.total) ? 0 : props.total }),\n      }\n\n      const components = props.layout\n        .split(',')\n        .map((item: string) => item.trim()) as LayoutKey[]\n\n      let haveRightWrapper = false\n\n      components.forEach((c) => {\n        if (c === '->') {\n          haveRightWrapper = true\n          return\n        }\n        if (!haveRightWrapper) {\n          rootChildren.push(TEMPLATE_MAP[c])\n        } else {\n          rightWrapperChildren.push(TEMPLATE_MAP[c])\n        }\n      })\n\n      addClass(rootChildren[0], ns.is('first'))\n      addClass(rootChildren[rootChildren.length - 1], ns.is('last'))\n\n      if (haveRightWrapper && rightWrapperChildren.length > 0) {\n        addClass(rightWrapperChildren[0], ns.is('first'))\n        addClass(\n          rightWrapperChildren[rightWrapperChildren.length - 1],\n          ns.is('last')\n        )\n        rootChildren.push(rightWrapperRoot)\n      }\n      return h(\n        'div',\n        {\n          class: [\n            ns.b(),\n            ns.is('background', props.background),\n            ns.m(_size.value),\n          ],\n        },\n        rootChildren\n      )\n    }\n  },\n})\n"],"names":["Prev","Jumper","Pager","Next","Sizes","Total"],"mappings":"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"}