{"version":3,"file":"install.js","sources":["../../../../../packages/utils/vue/install.ts"],"sourcesContent":["import { NOOP } from '../functions'\n\nimport type { App, Directive } from 'vue'\nimport type { SFCInstallWithContext, SFCWithInstall } from './typescript'\n\nexport const withInstall = <T, E extends Record<string, any>>(\n  main: T,\n  extra?: E\n) => {\n  ;(main as SFCWithInstall<T>).install = (app): void => {\n    for (const comp of [main, ...Object.values(extra ?? {})]) {\n      app.component(comp.name, comp)\n    }\n  }\n\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      ;(main as any)[key] = comp\n    }\n  }\n  return main as SFCWithInstall<T> & E\n}\n\nexport const withInstallFunction = <T>(fn: T, name: string) => {\n  ;(fn as SFCWithInstall<T>).install = (app: App) => {\n    ;(fn as SFCInstallWithContext<T>)._context = app._context\n    app.config.globalProperties[name] = fn\n  }\n\n  return fn as SFCInstallWithContext<T>\n}\n\nexport const withInstallDirective = <T extends Directive>(\n  directive: T,\n  name: string\n) => {\n  ;(directive as SFCWithInstall<T>).install = (app: App): void => {\n    app.directive(name, directive)\n  }\n\n  return directive as SFCWithInstall<T>\n}\n\nexport const withNoopInstall = <T>(component: T) => {\n  ;(component as SFCWithInstall<T>).install = NOOP\n\n  return component as SFCWithInstall<T>\n}\n"],"names":["NOOP"],"mappings":";;;;AAKO,MAAM,WAAA,GAAc,CACzB,IAAA,EACA,KAAA,KACG;AACF,EAAC,IAAA,CAA2B,OAAA,GAAU,CAAC,GAAA,KAAc;AACpD,IAAA,KAAA,MAAW,IAAA,IAAQ,CAAC,IAAA,EAAM,GAAG,MAAA,CAAO,OAAO,KAAA,IAAA,IAAA,GAAA,KAAA,GAAS,EAAE,CAAC,CAAA,EAAG;AACxD,MAAA,GAAA,CAAI,SAAA,CAAU,IAAA,CAAK,IAAA,EAAM,IAAI,CAAA;AAAA,IAC/B;AAAA,EACF,CAAA;AAEA,EAAA,IAAI,KAAA,EAAO;AACT,IAAA,KAAA,MAAW,CAAC,GAAA,EAAK,IAAI,KAAK,MAAA,CAAO,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC9C,MAAC,IAAA,CAAa,GAAG,CAAA,GAAI,IAAA;AAAA,IACxB;AAAA,EACF;AACA,EAAA,OAAO,IAAA;AACT;AAEO,MAAM,mBAAA,GAAsB,CAAI,EAAA,EAAO,IAAA,KAAiB;AAC5D,EAAC,EAAA,CAAyB,OAAA,GAAU,CAAC,GAAA,KAAa;AAChD,IAAC,EAAA,CAAgC,WAAW,GAAA,CAAI,QAAA;AACjD,IAAA,GAAA,CAAI,MAAA,CAAO,gBAAA,CAAiB,IAAI,CAAA,GAAI,EAAA;AAAA,EACtC,CAAA;AAEA,EAAA,OAAO,EAAA;AACT;AAEO,MAAM,oBAAA,GAAuB,CAClC,SAAA,EACA,IAAA,KACG;AACF,EAAC,SAAA,CAAgC,OAAA,GAAU,CAAC,GAAA,KAAmB;AAC9D,IAAA,GAAA,CAAI,SAAA,CAAU,MAAM,SAAS,CAAA;AAAA,EAC/B,CAAA;AAEA,EAAA,OAAO,SAAA;AACT;AAEO,MAAM,eAAA,GAAkB,CAAI,SAAA,KAAiB;AACjD,EAAC,UAAgC,OAAA,GAAUA,WAAA;AAE5C,EAAA,OAAO,SAAA;AACT;;;;;;;"}