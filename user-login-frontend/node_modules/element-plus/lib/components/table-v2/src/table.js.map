{"version":3,"file":"table.js","sources":["../../../../../../packages/components/table-v2/src/table.ts"],"sourcesContent":["import { buildProps, definePropType } from '@element-plus/utils'\nimport {\n  virtualizedGridProps,\n  virtualizedScrollbarProps,\n} from '@element-plus/components/virtual-list'\nimport {\n  classType,\n  columns,\n  dataType,\n  expandKeys,\n  fixedDataType,\n  requiredNumber,\n  rowKey,\n} from './common'\nimport { tableV2RowProps } from './row'\nimport { tableV2HeaderProps } from './header'\nimport { tableV2GridProps } from './grid'\n\nimport type {\n  CSSProperties,\n  ExtractPropTypes,\n  ExtractPublicPropTypes,\n} from 'vue'\nimport type { SortOrder } from './constants'\nimport type {\n  Column,\n  ColumnCommonParams,\n  DataGetter,\n  KeyType,\n  RowCommonParams,\n  SortBy,\n  SortState,\n} from './types'\n\n/**\n * Param types\n */\nexport type ColumnSortParams<T> = {\n  column: Column<T>\n  key: KeyType\n  order: SortOrder\n}\n\n/**\n * Renderer/Getter types\n */\n\nexport type ExtraCellPropGetter<T> = (\n  params: ColumnCommonParams<T> &\n    RowCommonParams & { cellData: T; rowData: any }\n) => any\n\nexport type ExtractHeaderPropGetter<T> = (params: {\n  columns: Column<T>[]\n  headerIndex: number\n}) => any\n\nexport type ExtractHeaderCellPropGetter<T> = (\n  params: ColumnCommonParams<T> & { headerIndex: number }\n) => any\n\nexport type ExtractRowPropGetter<T> = (\n  params: { columns: Column<T>[] } & RowCommonParams\n) => any\n\nexport type HeaderClassNameGetter<T> = (params: {\n  columns: Column<T>[]\n  headerIndex: number\n}) => string\n\nexport type RowClassNameGetter<T> = (\n  params: { columns: Column<T>[] } & RowCommonParams\n) => string\n\n/**\n * Handler types\n */\nexport type ColumnSortHandler<T> = (params: ColumnSortParams<T>) => void\nexport type ColumnResizeHandler<T> = (column: Column<T>, width: number) => void\nexport type ExpandedRowsChangeHandler = (expandedRowKeys: KeyType[]) => void\n\nexport const tableV2Props = buildProps({\n  cache: tableV2GridProps.cache,\n  estimatedRowHeight: tableV2RowProps.estimatedRowHeight,\n  rowKey,\n  // Header attributes\n  headerClass: {\n    type: definePropType<string | HeaderClassNameGetter<any>>([\n      String,\n      Function,\n    ]),\n  },\n  headerProps: {\n    type: definePropType<any | ExtractHeaderPropGetter<any>>([\n      Object,\n      Function,\n    ]),\n  },\n  headerCellProps: {\n    type: definePropType<any | ExtractHeaderCellPropGetter<any>>([\n      Object,\n      Function,\n    ]),\n  },\n  headerHeight: tableV2HeaderProps.headerHeight,\n  /**\n   * Footer attributes\n   */\n  footerHeight: {\n    type: Number,\n    default: 0,\n  },\n  /**\n   * Row attributes\n   */\n  rowClass: {\n    type: definePropType<string | RowClassNameGetter<any>>([String, Function]),\n  },\n  rowProps: {\n    type: definePropType<ExtractRowPropGetter<any> | any>([Object, Function]),\n  },\n  rowHeight: {\n    type: Number,\n    default: 50,\n  },\n\n  /**\n   * Cell attributes\n   */\n  cellProps: {\n    type: definePropType<Record<string, any> | ExtraCellPropGetter<any>>([\n      Object,\n      Function,\n    ]),\n  },\n  /**\n   * Data models\n   */\n  columns,\n  data: dataType,\n  dataGetter: {\n    type: definePropType<DataGetter<any>>(Function),\n  },\n  fixedData: fixedDataType,\n  /**\n   * Expanded keys\n   */\n  expandColumnKey: tableV2RowProps.expandColumnKey,\n  expandedRowKeys: expandKeys,\n  defaultExpandedRowKeys: expandKeys,\n\n  /**\n   * Attributes\n   */\n  class: classType,\n  // disabled: Boolean,\n  fixed: Boolean,\n  style: {\n    type: definePropType<CSSProperties>(Object),\n  },\n  width: requiredNumber,\n  height: requiredNumber,\n  maxHeight: Number,\n  useIsScrolling: Boolean,\n  indentSize: {\n    type: Number,\n    default: 12,\n  },\n  iconSize: {\n    type: Number,\n    default: 12,\n  },\n  hScrollbarSize: virtualizedGridProps.hScrollbarSize,\n  vScrollbarSize: virtualizedGridProps.vScrollbarSize,\n  scrollbarAlwaysOn: virtualizedScrollbarProps.alwaysOn,\n\n  /**\n   * Sorting\n   */\n  sortBy: {\n    type: definePropType<SortBy>(Object),\n    default: () => ({}) as { key: KeyType; order: SortOrder },\n  },\n  sortState: {\n    type: definePropType<SortState>(Object),\n    default: undefined,\n  },\n\n  /**\n   * Handlers\n   */\n  onColumnSort: {\n    type: definePropType<ColumnSortHandler<any>>(Function),\n  },\n  onExpandedRowsChange: {\n    type: definePropType<ExpandedRowsChangeHandler>(Function),\n  },\n  onEndReached: {\n    type: definePropType<(remainDistance: number) => void>(Function),\n  },\n  onRowExpand: tableV2RowProps.onRowExpand,\n  onScroll: tableV2GridProps.onScroll,\n  onRowsRendered: tableV2GridProps.onRowsRendered,\n  rowEventHandlers: tableV2RowProps.rowEventHandlers,\n} as const)\n\nexport type TableV2Props = ExtractPropTypes<typeof tableV2Props>\nexport type TableV2PropsPublic = ExtractPublicPropTypes<typeof tableV2Props>\n"],"names":["buildProps","tableV2GridProps","tableV2RowProps","rowKey","definePropType","tableV2HeaderProps","columns","dataType","fixedDataType","expandKeys","classType","requiredNumber","virtualizedGridProps","virtualizedScrollbarProps"],"mappings":"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"}