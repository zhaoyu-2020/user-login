{"version":3,"file":"use-lifecycle.js","sources":["../../../../../../../packages/components/slider/src/composables/use-lifecycle.ts"],"sourcesContent":["import { nextTick, onMounted, ref } from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport { isArray, isNumber } from '@element-plus/utils'\n\nimport type { SliderInitData, SliderProps } from '../slider'\n\nexport const useLifecycle = (\n  props: SliderProps,\n  initData: SliderInitData,\n  resetSize: () => void\n) => {\n  const sliderWrapper = ref<HTMLElement>()\n\n  onMounted(async () => {\n    if (props.range) {\n      if (isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0])\n        initData.secondValue = Math.min(props.max, props.modelValue[1])\n      } else {\n        initData.firstValue = props.min\n        initData.secondValue = props.max\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue]\n    } else {\n      if (!isNumber(props.modelValue) || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min\n      } else {\n        initData.firstValue = Math.min(\n          props.max,\n          Math.max(props.min, props.modelValue)\n        )\n      }\n      initData.oldValue = initData.firstValue\n    }\n\n    useEventListener(window, 'resize', resetSize)\n\n    await nextTick()\n    resetSize()\n  })\n\n  return {\n    sliderWrapper,\n  }\n}\n"],"names":["ref","onMounted","isArray","isNumber","useEventListener","nextTick"],"mappings":";;;;;;;AAMO,MAAM,YAAA,GAAe,CAC1B,KAAA,EACA,QAAA,EACA,SAAA,KACG;AACH,EAAA,MAAM,gBAAgBA,OAAA,EAAiB;AAEvC,EAAAC,aAAA,CAAU,YAAY;AACpB,IAAA,IAAI,MAAM,KAAA,EAAO;AACf,MAAA,IAAIC,cAAA,CAAQ,KAAA,CAAM,UAAU,CAAA,EAAG;AAC7B,QAAA,QAAA,CAAS,UAAA,GAAa,KAAK,GAAA,CAAI,KAAA,CAAM,KAAK,KAAA,CAAM,UAAA,CAAW,CAAC,CAAC,CAAA;AAC7D,QAAA,QAAA,CAAS,WAAA,GAAc,KAAK,GAAA,CAAI,KAAA,CAAM,KAAK,KAAA,CAAM,UAAA,CAAW,CAAC,CAAC,CAAA;AAAA,MAChE,CAAA,MAAO;AACL,QAAA,QAAA,CAAS,aAAa,KAAA,CAAM,GAAA;AAC5B,QAAA,QAAA,CAAS,cAAc,KAAA,CAAM,GAAA;AAAA,MAC/B;AACA,MAAA,QAAA,CAAS,QAAA,GAAW,CAAC,QAAA,CAAS,UAAA,EAAY,SAAS,WAAW,CAAA;AAAA,IAChE,CAAA,MAAO;AACL,MAAA,IAAI,CAACC,eAAS,KAAA,CAAM,UAAU,KAAK,MAAA,CAAO,KAAA,CAAM,KAAA,CAAM,UAAU,CAAA,EAAG;AACjE,QAAA,QAAA,CAAS,aAAa,KAAA,CAAM,GAAA;AAAA,MAC9B,CAAA,MAAO;AACL,QAAA,QAAA,CAAS,aAAa,IAAA,CAAK,GAAA;AAAA,UACzB,KAAA,CAAM,GAAA;AAAA,UACN,IAAA,CAAK,GAAA,CAAI,KAAA,CAAM,GAAA,EAAK,MAAM,UAAU;AAAA,SACtC;AAAA,MACF;AACA,MAAA,QAAA,CAAS,WAAW,QAAA,CAAS,UAAA;AAAA,IAC/B;AAEA,IAAAC,qBAAA,CAAiB,MAAA,EAAQ,UAAU,SAAS,CAAA;AAE5C,IAAA,MAAMC,YAAA,EAAS;AACf,IAAA,SAAA,EAAU;AAAA,EACZ,CAAC,CAAA;AAED,EAAA,OAAO;AAAA,IACL;AAAA,GACF;AACF;;;;"}