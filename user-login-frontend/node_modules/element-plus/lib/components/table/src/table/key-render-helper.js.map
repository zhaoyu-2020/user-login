{"version":3,"file":"key-render-helper.js","sources":["../../../../../../../packages/components/table/src/table/key-render-helper.ts"],"sourcesContent":["import { onMounted, onUnmounted } from 'vue'\n\nimport type { Table } from './defaults'\n\nexport default function useKeyRender(table: Table<[]>) {\n  let observer: MutationObserver | undefined\n\n  const initWatchDom = () => {\n    const el = table.vnode.el\n    const columnsWrapper = (el as HTMLElement).querySelector('.hidden-columns')\n    const config = { childList: true, subtree: true }\n    const updateOrderFns = table.store.states.updateOrderFns\n    observer = new MutationObserver(() => {\n      updateOrderFns.forEach((fn: () => void) => fn())\n    })\n\n    observer.observe(columnsWrapper!, config)\n  }\n\n  onMounted(() => {\n    // fix https://github.com/element-plus/element-plus/issues/8528\n    initWatchDom()\n  })\n\n  onUnmounted(() => {\n    observer?.disconnect()\n  })\n}\n"],"names":["onMounted","onUnmounted"],"mappings":";;;;;;AAIA,SAAwB,aAAa,KAAA,EAAkB;AACrD,EAAA,IAAI,QAAA;AAEJ,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,MAAM,EAAA,GAAK,MAAM,KAAA,CAAM,EAAA;AACvB,IAAA,MAAM,cAAA,GAAkB,EAAA,CAAmB,aAAA,CAAc,iBAAiB,CAAA;AAC1E,IAAA,MAAM,MAAA,GAAS,EAAE,SAAA,EAAW,IAAA,EAAM,SAAS,IAAA,EAAK;AAChD,IAAA,MAAM,cAAA,GAAiB,KAAA,CAAM,KAAA,CAAM,MAAA,CAAO,cAAA;AAC1C,IAAA,QAAA,GAAW,IAAI,iBAAiB,MAAM;AACpC,MAAA,cAAA,CAAe,OAAA,CAAQ,CAAC,EAAA,KAAmB,EAAA,EAAI,CAAA;AAAA,IACjD,CAAC,CAAA;AAED,IAAA,QAAA,CAAS,OAAA,CAAQ,gBAAiB,MAAM,CAAA;AAAA,EAC1C,CAAA;AAEA,EAAAA,aAAA,CAAU,MAAM;AAEd,IAAA,YAAA,EAAa;AAAA,EACf,CAAC,CAAA;AAED,EAAAC,eAAA,CAAY,MAAM;AAChB,IAAA,QAAA,IAAA,IAAA,GAAA,MAAA,GAAA,QAAA,CAAU,UAAA,EAAA;AAAA,EACZ,CAAC,CAAA;AACH;;;;"}