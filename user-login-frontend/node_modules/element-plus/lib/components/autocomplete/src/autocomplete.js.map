{"version":3,"file":"autocomplete.js","sources":["../../../../../../packages/components/autocomplete/src/autocomplete.ts"],"sourcesContent":["import {\n  NOOP,\n  buildProps,\n  definePropType,\n  isNumber,\n  isObject,\n  isString,\n} from '@element-plus/utils'\nimport { useTooltipContentProps } from '@element-plus/components/tooltip'\nimport {\n  CHANGE_EVENT,\n  INPUT_EVENT,\n  UPDATE_MODEL_EVENT,\n} from '@element-plus/constants'\nimport { inputProps } from '@element-plus/components/input'\n\nimport type { ExtractPublicPropTypes } from 'vue'\nimport type Autocomplete from './autocomplete.vue'\nimport type { Placement } from '@element-plus/components/popper'\nimport type { Awaitable } from '@element-plus/utils'\nimport type { InputProps } from '@element-plus/components/input'\nimport type { ElTooltipContentProps } from '@element-plus/components/tooltip'\n\nexport type AutocompleteData = Record<string, any>[]\nexport type AutocompleteFetchSuggestionsCallback = (\n  data: AutocompleteData\n) => void\nexport type AutocompleteFetchSuggestions =\n  | ((\n      queryString: string,\n      cb: AutocompleteFetchSuggestionsCallback\n    ) => Awaitable<AutocompleteData> | void)\n  | AutocompleteData\n\nexport type AutocompletePlacement =\n  | 'top'\n  | 'top-start'\n  | 'top-end'\n  | 'bottom'\n  | 'bottom-start'\n  | 'bottom-end'\n\nexport interface AutocompleteProps extends InputProps {\n  /**\n   * @description key name of the input suggestion object for display\n   */\n  valueKey?: string\n  /**\n   * @description binding value\n   */\n  modelValue?: string | number\n  /**\n   * @description debounce delay when typing, in milliseconds\n   */\n  debounce?: number\n  /**\n   * @description placement of the popup menu\n   */\n  placement?: AutocompletePlacement\n  /**\n   * @description a method to fetch input suggestions. When suggestions are ready, invoke `callback(data:[])` to return them to Autocomplete\n   */\n  fetchSuggestions?: AutocompleteFetchSuggestions\n  /**\n   * @description custom class name for autocomplete's dropdown\n   */\n  popperClass?: ElTooltipContentProps['popperClass']\n  /**\n   * @description custom style for autocomplete's dropdown\n   */\n  popperStyle?: ElTooltipContentProps['popperStyle']\n  /**\n   * @description whether show suggestions when input focus\n   */\n  triggerOnFocus?: boolean\n  /**\n   * @description whether to emit a `select` event on enter when there is no autocomplete match\n   */\n  selectWhenUnmatched?: boolean\n  /**\n   * @description whether to hide the loading icon in remote search\n   */\n  hideLoading?: boolean\n  /**\n   * @description whether select dropdown is teleported to the body\n   */\n  teleported?: ElTooltipContentProps['teleported']\n  /**\n   * @description which select dropdown appends to\n   */\n  appendTo?: ElTooltipContentProps['appendTo']\n  /**\n   * @description whether to highlight first item in remote search suggestions by default\n   */\n  highlightFirstItem?: boolean\n  /**\n   * @description whether the width of the dropdown is the same as the input\n   */\n  fitInputWidth?: boolean\n  /**\n   * @description whether keyboard navigation loops from end to start\n   */\n  loopNavigation?: boolean\n}\n\n/**\n * @deprecated Removed after 3.0.0, Use `AutocompleteProps` instead.\n */\nexport const autocompleteProps = buildProps({\n  ...inputProps,\n  /**\n   * @description key name of the input suggestion object for display\n   */\n  valueKey: {\n    type: String,\n    default: 'value',\n  },\n  /**\n   * @description binding value\n   */\n  modelValue: {\n    type: [String, Number],\n    default: '',\n  },\n  /**\n   * @description debounce delay when typing, in milliseconds\n   */\n  debounce: {\n    type: Number,\n    default: 300,\n  },\n  /**\n   * @description placement of the popup menu\n   */\n  placement: {\n    type: definePropType<Placement>(String),\n    values: [\n      'top',\n      'top-start',\n      'top-end',\n      'bottom',\n      'bottom-start',\n      'bottom-end',\n    ],\n    default: 'bottom-start',\n  },\n  /**\n   * @description a method to fetch input suggestions. When suggestions are ready, invoke `callback(data:[])` to return them to Autocomplete\n   */\n  fetchSuggestions: {\n    type: definePropType<AutocompleteFetchSuggestions>([Function, Array]),\n    default: NOOP,\n  },\n  /**\n   * @description custom class name for autocomplete's dropdown\n   */\n  popperClass: useTooltipContentProps.popperClass,\n  /**\n   * @description custom style for autocomplete's dropdown\n   */\n  popperStyle: useTooltipContentProps.popperStyle,\n  /**\n   * @description whether show suggestions when input focus\n   */\n  triggerOnFocus: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description whether to emit a `select` event on enter when there is no autocomplete match\n   */\n  selectWhenUnmatched: Boolean,\n  /**\n   * @description whether to hide the loading icon in remote search\n   */\n  hideLoading: Boolean,\n  /**\n   * @description whether select dropdown is teleported to the body\n   */\n  teleported: useTooltipContentProps.teleported,\n  /**\n   * @description which select dropdown appends to\n   */\n  appendTo: useTooltipContentProps.appendTo,\n  /**\n   * @description whether to highlight first item in remote search suggestions by default\n   */\n  highlightFirstItem: Boolean,\n  /**\n   * @description whether the width of the dropdown is the same as the input\n   */\n  fitInputWidth: Boolean,\n  /**\n   * @description whether keyboard navigation loops from end to start\n   */\n  loopNavigation: {\n    type: Boolean,\n    default: true,\n  },\n} as const)\n\n/**\n * @deprecated Removed after 3.0.0, Use `AutocompleteProps` instead.\n */\nexport type AutocompletePropsPublic = ExtractPublicPropTypes<\n  typeof autocompleteProps\n>\n\nexport const autocompleteEmits = {\n  [UPDATE_MODEL_EVENT]: (value: string | number) =>\n    isString(value) || isNumber(value),\n  [INPUT_EVENT]: (value: string | number) => isString(value) || isNumber(value),\n  [CHANGE_EVENT]: (value: string | number) =>\n    isString(value) || isNumber(value),\n  focus: (evt: FocusEvent) => evt instanceof FocusEvent,\n  blur: (evt: FocusEvent) => evt instanceof FocusEvent,\n  clear: () => true,\n  select: (item: Record<string, any>) => isObject(item),\n}\nexport type AutocompleteEmits = typeof autocompleteEmits\n\nexport type AutocompleteInstance = InstanceType<typeof Autocomplete> & unknown\n"],"names":["buildProps","inputProps","definePropType","NOOP","useTooltipContentProps","UPDATE_MODEL_EVENT","isString","isNumber","INPUT_EVENT","CHANGE_EVENT","isObject"],"mappings":";;;;;;;;;AA4GO,MAAM,oBAAoBA,kBAAA,CAAW;AAAA,EAC1C,GAAGC,gBAAA;AAAA;AAAA;AAAA;AAAA,EAIH,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,MAAA;AAAA,IACN,OAAA,EAAS;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,UAAA,EAAY;AAAA,IACV,IAAA,EAAM,CAAC,MAAA,EAAQ,MAAM,CAAA;AAAA,IACrB,OAAA,EAAS;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,MAAA;AAAA,IACN,OAAA,EAAS;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,SAAA,EAAW;AAAA,IACT,IAAA,EAAMC,uBAA0B,MAAM,CAAA;AAAA,IACtC,MAAA,EAAQ;AAAA,MACN,KAAA;AAAA,MACA,WAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,cAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAA,EAAkB;AAAA,IAChB,IAAA,EAAMA,sBAAA,CAA6C,CAAC,QAAA,EAAU,KAAK,CAAC,CAAA;AAAA,IACpE,OAAA,EAASC;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,aAAaC,8BAAA,CAAuB,WAAA;AAAA;AAAA;AAAA;AAAA,EAIpC,aAAaA,8BAAA,CAAuB,WAAA;AAAA;AAAA;AAAA;AAAA,EAIpC,cAAA,EAAgB;AAAA,IACd,IAAA,EAAM,OAAA;AAAA,IACN,OAAA,EAAS;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAIA,mBAAA,EAAqB,OAAA;AAAA;AAAA;AAAA;AAAA,EAIrB,WAAA,EAAa,OAAA;AAAA;AAAA;AAAA;AAAA,EAIb,YAAYA,8BAAA,CAAuB,UAAA;AAAA;AAAA;AAAA;AAAA,EAInC,UAAUA,8BAAA,CAAuB,QAAA;AAAA;AAAA;AAAA;AAAA,EAIjC,kBAAA,EAAoB,OAAA;AAAA;AAAA;AAAA;AAAA,EAIpB,aAAA,EAAe,OAAA;AAAA;AAAA;AAAA;AAAA,EAIf,cAAA,EAAgB;AAAA,IACd,IAAA,EAAM,OAAA;AAAA,IACN,OAAA,EAAS;AAAA;AAEb,CAAU;AASH,MAAM,iBAAA,GAAoB;AAAA,EAC/B,CAACC,wBAAkB,GAAG,CAAC,UACrBC,eAAA,CAAS,KAAK,CAAA,IAAKC,cAAA,CAAS,KAAK,CAAA;AAAA,EACnC,CAACC,iBAAW,GAAG,CAAC,UAA2BF,eAAA,CAAS,KAAK,CAAA,IAAKC,cAAA,CAAS,KAAK,CAAA;AAAA,EAC5E,CAACE,kBAAY,GAAG,CAAC,UACfH,eAAA,CAAS,KAAK,CAAA,IAAKC,cAAA,CAAS,KAAK,CAAA;AAAA,EACnC,KAAA,EAAO,CAAC,GAAA,KAAoB,GAAA,YAAe,UAAA;AAAA,EAC3C,IAAA,EAAM,CAAC,GAAA,KAAoB,GAAA,YAAe,UAAA;AAAA,EAC1C,OAAO,MAAM,IAAA;AAAA,EACb,MAAA,EAAQ,CAAC,IAAA,KAA8BG,eAAA,CAAS,IAAI;AACtD;;;;;"}