{"version":3,"file":"tree.vue2.js","sources":["../../../../../../packages/components/tree-v2/src/tree.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[ns.b(), { [ns.m('highlight-current')]: highlightCurrent }]\"\n    role=\"tree\"\n  >\n    <fixed-size-list\n      v-if=\"isNotEmpty\"\n      ref=\"listRef\"\n      :class-name=\"ns.b('virtual-list')\"\n      :data=\"flattenTree\"\n      :total=\"flattenTree.length\"\n      :height=\"height\"\n      :item-size=\"treeNodeSize\"\n      :perf-mode=\"perfMode\"\n      :scrollbar-always-on=\"scrollbarAlwaysOn\"\n    >\n      <template #default=\"{ data, index, style }\">\n        <el-tree-node\n          :key=\"data[index].key\"\n          :style=\"style\"\n          :node=\"data[index]\"\n          :expanded=\"data[index].expanded\"\n          :show-checkbox=\"showCheckbox\"\n          :checked=\"isChecked(data[index])\"\n          :indeterminate=\"isIndeterminate(data[index])\"\n          :item-size=\"treeNodeSize\"\n          :disabled=\"isDisabled(data[index])\"\n          :current=\"isCurrent(data[index])\"\n          :hidden-expand-icon=\"isForceHiddenExpandIcon(data[index])\"\n          @click=\"handleNodeClick\"\n          @toggle=\"toggleExpand\"\n          @check=\"handleNodeCheck\"\n          @drop=\"handleNodeDrop\"\n        />\n      </template>\n    </fixed-size-list>\n    <div v-else :class=\"ns.e('empty-block')\">\n      <slot name=\"empty\">\n        <span :class=\"ns.e('empty-text')\">\n          {{ emptyText ?? t('el.tree.emptyText') }}\n        </span>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, getCurrentInstance, provide, useSlots } from 'vue'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { formItemContextKey } from '@element-plus/components/form'\nimport { FixedSizeList } from '@element-plus/components/virtual-list'\nimport { useTree } from './composables/useTree'\nimport ElTreeNode from './tree-node.vue'\nimport {\n  ROOT_TREE_INJECTION_KEY,\n  TreeOptionsEnum,\n  treeEmits,\n} from './virtual-tree'\nimport { mutable } from '@element-plus/utils'\n\nimport type { TreeProps } from './types'\n\ndefineOptions({\n  name: 'ElTreeV2',\n})\n\nconst props = withDefaults(defineProps<TreeProps>(), {\n  data: () => mutable([]),\n  height: 200,\n  props: () =>\n    mutable({\n      children: TreeOptionsEnum.CHILDREN,\n      label: TreeOptionsEnum.LABEL,\n      disabled: TreeOptionsEnum.DISABLED,\n      value: TreeOptionsEnum.KEY,\n      class: TreeOptionsEnum.CLASS,\n    }),\n  defaultCheckedKeys: () => mutable([]),\n  defaultExpandedKeys: () => mutable([]),\n  indent: 16,\n  itemSize: 26,\n  expandOnClickNode: true,\n  checkOnClickLeaf: true,\n  perfMode: true,\n})\nconst emit = defineEmits(treeEmits)\n\nconst slots = useSlots()\n\nconst treeNodeSize = computed(() => props.itemSize)\n\nprovide(ROOT_TREE_INJECTION_KEY, {\n  ctx: {\n    emit,\n    slots,\n  },\n  props,\n  instance: getCurrentInstance()!,\n})\nprovide(formItemContextKey, undefined)\nconst { t } = useLocale()\nconst ns = useNamespace('tree')\nconst {\n  flattenTree,\n  isNotEmpty,\n  listRef,\n  toggleExpand,\n  isIndeterminate,\n  isChecked,\n  isDisabled,\n  isCurrent,\n  isForceHiddenExpandIcon,\n  handleNodeClick,\n  handleNodeDrop,\n  handleNodeCheck,\n  // expose\n  toggleCheckbox,\n  getCurrentNode,\n  getCurrentKey,\n  setCurrentKey,\n  getCheckedKeys,\n  getCheckedNodes,\n  getHalfCheckedKeys,\n  getHalfCheckedNodes,\n  setChecked,\n  setCheckedKeys,\n  filter,\n  setData,\n  getNode,\n  expandNode,\n  collapseNode,\n  setExpandedKeys,\n  scrollToNode,\n  scrollTo,\n} = useTree(props, emit)\n\ndefineExpose({\n  toggleCheckbox,\n  getCurrentNode,\n  getCurrentKey,\n  setCurrentKey,\n  getCheckedKeys,\n  getCheckedNodes,\n  getHalfCheckedKeys,\n  getHalfCheckedNodes,\n  setChecked,\n  setCheckedKeys,\n  filter,\n  setData,\n  getNode,\n  expandNode,\n  collapseNode,\n  setExpandedKeys,\n  scrollToNode,\n  scrollTo,\n})\n</script>\n"],"names":["useSlots","computed","provide","ROOT_TREE_INJECTION_KEY","getCurrentInstance","formItemContextKey","useLocale","useNamespace","useTree","_createElementBlock","_normalizeClass","_unref","_createBlock","FixedSizeList","ElTreeNode","_renderSlot","_createElementVNode","_toDisplayString"],"mappings":"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"}